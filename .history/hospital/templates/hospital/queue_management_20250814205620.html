{% extends 'base.html' %}

{% block content %}
<div class="container">

  <h1 style="text-align:center; color:#2a3f54;">OPD Queue Status with AI Predictions</h1>

  <table style="width:90%; margin:20px auto; border-collapse:collapse; background:white; box-shadow:0 0 10px rgba(0,0,0,0.1);">
    <thead style="background-color:#2a3f54; color:white;">
      <tr>
        <th style="padding:12px 15px;">Token No.</th>
        <th style="padding:12px 15px;">Hospital</th>
        <th style="padding:12px 15px;">Patient Name</th>
        <th style="padding:12px 15px;">Predicted Waiting Time (mins)</th>
      </tr>
    </thead>
    <tbody>
      {% if predictions %}
        {% for prediction in predictions %}
        <tr>
          <td style="padding:12px 15px; text-align:center;">{{ prediction.queue_position }}</td>
          <td style="padding:12px 15px; text-align:center;">{{ prediction.department }}</td>
          <td style="padding:12px 15px; text-align:center;">{{ prediction.name }}</td>
          <td style="padding:12px 15px; text-align:center; font-weight:bold; color:#2a3f54;">
            {% if prediction.predicted_waiting_time == "N/A" %}
              <span style="color:#c0392b; font-weight:bold;">N/A</span>
            {% else %}
              {{ prediction.predicted_waiting_time }}
            {% endif %}
          </td>
        </tr>
        {% endfor %}
      {% else %}
        <tr>
          <td colspan="4" style="text-align:center; color:#888;">No patients in the queue.</td>
        </tr>
      {% endif %}
    </tbody>
  </table>
</div>
{% endblock %}
